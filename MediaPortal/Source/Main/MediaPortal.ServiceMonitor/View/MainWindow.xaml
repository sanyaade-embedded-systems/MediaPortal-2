<Window x:Class="MediaPortal.ServiceMonitor.View.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
        xmlns:Converters="clr-namespace:MediaPortal.ServiceMonitor.Converters"
        MinWidth="200" MinHeight="200"
        Width="350" Height="250"
        Title="MP2-ServiceMonitor" 
        Background="{DynamicResource WindowBackgroundBrush}">

  <Window.Resources>
    <Converters:ConnectionStatusToImageConverter x:Key="ConStatusToImageConverter"/>
  </Window.Resources>
      
  <Grid x:Name="layoutRoot">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>

    <TextBlock Grid.Row="0" Margin="10,20,10,0"
      TextWrapping="Wrap"
      VerticalAlignment="Top"
      Height="22"
      Style="{DynamicResource TitleLabel}"
      Text="Attached Clients" />
    
      <ListView Grid.Row="1" Background="Transparent" ItemsSource="{Binding Path=Clients}">
      <ListView.View>
        <GridView>
          <GridViewColumn Header="Client" >
            <GridViewColumn.CellTemplate>
              <DataTemplate>
                <DockPanel>
                  <Image DockPanel.Dock="Left" Width="16" Height="16" VerticalAlignment="Center" HorizontalAlignment="Center"
                         Source="{Binding Path=IsConnected, Converter={StaticResource ConStatusToImageConverter}}" />
                  <TextBlock TextWrapping="WrapWithOverflow" Margin="2,0,2,0" Text="{Binding Path=Name}" VerticalAlignment="Center"  FontSize="14"  />
                </DockPanel>
              </DataTemplate>
            </GridViewColumn.CellTemplate>
          </GridViewColumn>
          <GridViewColumn Header="System" DisplayMemberBinding="{Binding Path=System}" />
        </GridView>
      </ListView.View>

    </ListView>

  </Grid>
  
</Window>
